import{j as n}from"./jsx-runtime-Cw0GR0a5.js";import{i as I}from"./interopRequireDefault-Y9pwbXtE.js";import{r as N,i as _}from"./createSvgIcon-C7DOmWEG.js";import{r as s}from"./index-CTjT7uj6.js";import{d as fe}from"./Search-PRS2MBfc.js";import{c as v}from"./index-Cqve-NHl.js";import{a as be}from"./Link-AxlLH8bm.js";import{S as x,a as H}from"./Page-CQBNXmCR.js";import{d as M}from"./ArrowBackIos-rUjrd0vZ.js";import{m as S}from"./makeStyles-CRB_T0k9.js";import{B as m,s as y}from"./Box-DU2WS7ls.js";import{d as T}from"./ArrowForwardIos-f4g_Lt6-.js";import{b as ge}from"./ApiRef-CqkoWjZn.js";import{a as ve}from"./ConfigApi-D1qiBdfc.js";import{T as U}from"./Typography-D5Gm01bp.js";import{l as k}from"./lodash-CoGan1YB.js";import{q as z}from"./index-jDfqsyy3.js";import{u as V,h as Q,r as B}from"./index-w6SBqnNd.js";import{B as xe}from"./Badge-CtUVBSDf.js";import{B as X}from"./Button-Bvcv_UO_.js";import{T as Se}from"./TextField-BGQuX1Wm.js";import{u as Y}from"./useMediaQuery-CW8PMJkr.js";import{u as ye}from"./useAnalytics-DVyBXs_0.js";import{u as K}from"./useElementFilter-C64kAOAm.js";const G={isOpen:!1,setOpen:()=>{}},J=s.createContext(G),Z=ge("sidebar-open-state-context");function we(e){const{children:t,value:o}=e;return n.jsx(J.Provider,{value:o,children:n.jsx(Z.Provider,{value:ve({1:o}),children:t})})}const O=()=>{const e=s.useContext(Z),t=s.useContext(J);if(e===void 0)return t||G;const o=e.atVersion(1);if(o===void 0)throw new Error("No context found for version 1.");return o};we.__docgenInfo={description:`Provides context for reading and updating sidebar state.

@public`,methods:[],displayName:"SidebarOpenStateProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * Whether or not the sidebar is open and full-width. When \`false\`, the
   * sidebar is "closed" and typically only shows icons with no text.
   */
  isOpen: boolean;

  /**
   * A function to set whether or not the sidebar is open. Pass \`true\` to open
   * the sidebar. Pass \`false\` to close it.
   */
  setOpen: (open: boolean) => void;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!0},description:'Whether or not the sidebar is open and full-width. When `false`, the\nsidebar is "closed" and typically only shows icons with no text.'},{key:"setOpen",value:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}},required:!0},description:"A function to set whether or not the sidebar is open. Pass `true` to open\nthe sidebar. Pass `false` to close it."}]}},description:""}}};var R={},Ce=I,ke=_;Object.defineProperty(R,"__esModule",{value:!0});var ee=R.default=void 0,je=ke(s),Ie=Ce(N()),Ne=(0,Ie.default)(je.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");ee=R.default=Ne;var W={},_e=I,Oe=_;Object.defineProperty(W,"__esModule",{value:!0});var te=W.default=void 0,Re=Oe(s),We=_e(N()),qe=(0,We.default)(Re.createElement("path",{d:"M7 14l5-5 5 5z"}),"ArrowDropUp");te=W.default=qe;function F(e,t,o=!1){const a=new URLSearchParams(t.search).toString(),r=z.parse(a),i=new URLSearchParams(e.search).toString(),d=z.parse(i),u=o?k.isEqual:k.isMatch;return k.isEqual(t.pathname,e.pathname)&&u(d,r)}const Ee=S(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:t=>{var o;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",opacity:0,[e.breakpoints.up("sm")]:{marginLeft:t.left,transition:e.transitions.create(["margin-left","opacity"],{easing:e.transitions.easing.sharp,duration:t.submenuConfig.defaultOpenDelayMs})},top:0,bottom:0,padding:0,background:((o=e.palette.navigation.submenu)==null?void 0:o.background)??"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:t.submenuConfig.drawerWidthClosed,transitionDelay:`${t.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:t=>({marginLeft:t.left,opacity:1,width:t.submenuConfig.drawerWidthOpen,[e.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:e.spacing(3),left:0,top:0}}),title:{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,color:e.palette.navigation.color,padding:e.spacing(2.5),[e.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),ne=e=>{const{isOpen:t}=O(),{sidebarConfig:o,submenuConfig:a}=s.useContext(x),r=t?o.drawerWidthOpen:o.drawerWidthClosed,i=Ee({left:r,submenuConfig:a}),{isHoveredOn:d}=s.useContext(H),[u,p]=s.useState(!1);return s.useEffect(()=>{p(d)},[d]),n.jsxs(m,{className:v(i.drawer,{[i.drawerOpen]:u}),children:[n.jsx(U,{variant:"h5",component:"span",className:i.title,children:e.title}),e.children]})};ne.__docgenInfo={description:`Used inside SidebarItem to display an expandable Submenu

@public`,methods:[],displayName:"SidebarSubmenu",props:{title:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var q={},Pe=I,Ae=_;Object.defineProperty(q,"__esModule",{value:!0});var E=q.default=void 0,De=Ae(s),Le=Pe(N()),$e=(0,Le.default)(De.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");E=q.default=$e;const Me=S({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),ae=()=>{const e=Me();return n.jsxs(m,{className:e.iconContainer,children:[n.jsx(m,{className:e.arrow1,children:n.jsx(M,{style:{fontSize:"12px"}})}),n.jsx(m,{children:n.jsx(M,{style:{fontSize:"12px"}})})]})};ae.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowLeft"};const Te=S({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),oe=()=>{const e=Te();return n.jsxs(m,{className:e.iconContainer,children:[n.jsx(m,{className:e.arrow1,children:n.jsx(T,{style:{fontSize:"12px"}})}),n.jsx(m,{children:n.jsx(T,{style:{fontSize:"12px"}})})]})};oe.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowRight"};const ze=e=>S(t=>{var o,a;return{root:{color:t.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:e.drawerWidthClosed,justifyContent:"center"},open:{[t.breakpoints.up("sm")]:{width:e.drawerWidthOpen}},highlightable:{"&:hover":{background:((o=t.palette.navigation.navItem)==null?void 0:o.hoverBackground)??"#404040"}},highlighted:{background:((a=t.palette.navigation.navItem)==null?void 0:a.hoverBackground)??"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:e.iconContainerWidth,marginRight:-t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize},searchFieldHTMLInput:{padding:t.spacing(2,0,2)},searchContainer:{width:e.drawerWidthOpen-e.iconContainerWidth},secondaryAction:{width:t.spacing(6),textAlign:"center",marginRight:t.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:t.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${e.selectedIndicatorWidth}px ${t.palette.navigation.indicator}`,color:t.palette.navigation.selectedColor},"&$closed":{width:e.drawerWidthClosed},"& $closedItemIcon":{paddingRight:e.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-e.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function w(e){return s.useMemo(()=>ze(e),[e])()}const Be=(e,t)=>K(e.props.children,o=>{let a=!1;return o.getElements().forEach(({props:{to:r,dropdownItems:i}})=>{if(!a){if(i!=null&&i.length){i.forEach(({to:d})=>a=a||F(t,B(d)));return}r&&(a=F(t,B(r)))}}),a},[t.pathname]);function j(e){return e.to===void 0}const Fe=s.createElement(ne).type,re=s.forwardRef(function({to:t,end:o,style:a,className:r,activeStyle:i,caseSensitive:d,activeClassName:u="active","aria-current":p="page",...h},f){let{pathname:l}=V(),{pathname:b}=Q(t);d||(l=l.toLocaleLowerCase("en-US"),b=b.toLocaleLowerCase("en-US"));let c=l===b;!c&&!o&&(c=l.startsWith(`${b}/`));const g=c?p:void 0;return n.jsx(be,{...h,to:t,ref:f,"aria-current":g,style:{...a,...c?i:void 0},className:v([typeof r!="function"?r:void 0,c?u:void 0])})}),ie=s.forwardRef((e,t)=>{const{icon:o,text:a,hasNotifications:r=!1,hasSubmenu:i=!1,disableHighlight:d=!1,onClick:u,noTrack:p,children:h,className:f,...l}=e,{sidebarConfig:b}=s.useContext(x),c=w(b),{isOpen:g}=O(),le=!g&&i?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},de=n.jsxs(m,{style:le,children:[n.jsx(o,{fontSize:"small"}),!g&&i?n.jsx(E,{fontSize:"small"}):n.jsx(n.Fragment,{})]}),P=n.jsx(xe,{color:"secondary",variant:"dot",overlap:"circular",invisible:!r,className:v({[c.closedItemIcon]:!g}),children:de}),ce=n.jsxs(n.Fragment,{children:[n.jsx(m,{"data-testid":"login-button",className:c.iconContainer,children:P}),a&&n.jsx(U,{variant:"subtitle2",component:"span",className:c.label,children:a}),n.jsx("div",{className:c.secondaryAction,children:h})]}),A=g?ce:P,D={onClick:u,className:v(f,c.root,g?c.open:c.closed,j(e)&&c.buttonItem,{[c.highlightable]:!d})},L=ye(),{pathname:C}=Q(!j(e)&&e.to?e.to:""),$=s.useCallback(ue=>{if(!p){const pe="click",me=a??"Sidebar Item",he=C?{attributes:{to:C}}:void 0;L.captureEvent(pe,me,he)}u==null||u(ue)},[L,a,C,p,u]);return j(e)?n.jsx(X,{role:"button","aria-label":a,...D,ref:t,onClick:$,children:A}):n.jsx(re,{...D,activeClassName:c.selected,to:e.to?e.to:"",ref:t,"aria-label":a||e.to,...l,onClick:$,children:A})}),He=({children:e,...t})=>{const{sidebarConfig:o}=s.useContext(x),a=w(o),[r,i]=s.useState(!1),d=V(),u=Be(e,d),p=Y(b=>b.breakpoints.down("sm")),h=()=>{i(!0)},f=()=>{i(!1)},l=()=>p?r?n.jsx(te,{fontSize:"small",className:a.submenuArrow}):n.jsx(ee,{fontSize:"small",className:a.submenuArrow}):!r&&n.jsx(E,{fontSize:"small",className:a.submenuArrow});return n.jsx(H.Provider,{value:{isHoveredOn:r,setIsHoveredOn:i},children:n.jsxs("div",{"data-testid":"item-with-submenu",onMouseLeave:f,onTouchStart:r?f:h,onMouseEnter:h,className:v(r&&a.highlighted),children:[n.jsx(ie,{hasSubmenu:!0,className:u?a.selected:"",...t,children:l()}),r&&e]})})},se=s.forwardRef((e,t)=>{const[o]=K(e.children,a=>a.getElements().filter(r=>r.type===Fe));return o?n.jsx(He,{...e,children:o}):n.jsx(ie,{...e,ref:t})});function Ue(e){const{sidebarConfig:t}=s.useContext(x),[o,a]=s.useState(""),r=w(t),i=e.icon?e.icon:fe,d=()=>{e.onSearch(o),a("")},u=l=>{l.key==="Enter"&&(l.preventDefault(),d())},p=l=>{a(l.target.value)},h=l=>{l.preventDefault(),l.stopPropagation()},f=l=>{d(),l.preventDefault()};return n.jsx(m,{className:r.searchRoot,children:n.jsx(se,{icon:i,to:e.to,onClick:f,disableHighlight:!0,children:n.jsx(Se,{placeholder:"Search",value:o,onClick:h,onChange:p,onKeyDown:u,className:r.searchContainer,InputProps:{disableUnderline:!0,className:r.searchField},inputProps:{className:r.searchFieldHTMLInput}})})})}const vt=y("div")({flex:1},{name:"BackstageSidebarSpace"});y("div")({height:8},{name:"BackstageSidebarSpacer"});const xt=y("hr")(({theme:e})=>({height:1,width:"100%",background:"#383838",border:"none",margin:e.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Ve=e=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:e.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.text.secondary,borderRadius:"5px"}});y("div")(({theme:e})=>{const t=Ve(e);return{flex:"0 1 auto",overflowX:"hidden",width:"100%",minHeight:"48px",overflowY:"hidden","@media (hover: none)":t,"&:hover":t}});const Qe=()=>{const{sidebarConfig:e}=s.useContext(x),t=w(e),{isOpen:o,setOpen:a}=O();if(Y(d=>d.breakpoints.down("md"),{noSsr:!0}))return null;const i=()=>{a(!o)};return n.jsx(X,{role:"button",onClick:i,className:t.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button",children:n.jsx(m,{className:t.arrows,children:o?n.jsx(ae,{}):n.jsx(oe,{})})})};re.__docgenInfo={description:"",methods:[],displayName:"WorkaroundNavLink",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},activeStyle:{required:!1,tsType:{name:"CSSProperties"},description:""},activeClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'active'",computed:!1}},"aria-current":{defaultValue:{value:"'page'",computed:!1},required:!1}}};se.__docgenInfo={description:"Creates a `SidebarItem`\n\n@remarks\nIf children contain a `SidebarSubmenu` component the `SidebarItem` will have a expandable submenu",methods:[],displayName:"SidebarItem",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};Ue.__docgenInfo={description:"",methods:[],displayName:"SidebarSearchField",props:{onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(input: string) => void",signature:{arguments:[{type:{name:"string"},name:"input"}],return:{name:"void"}}},description:""},to:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"'medium' | 'large' | 'small' | 'inherit'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'small'"},{name:"literal",value:"'inherit'"}],required:!1}}]}}],raw:`ComponentType<{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}>`},description:""}}};Qe.__docgenInfo={description:`A button which allows you to expand the sidebar when clicked.

@remarks
Use optionally to replace sidebar's expand-on-hover feature with expand-on-click.

If you are using this you might want to set the \`disableExpandOnHover\` of the \`Sidebar\` to \`true\`.

@public`,methods:[],displayName:"SidebarExpandButton"};export{se as S,we as a,ee as b,Ue as c,te as d,xt as e,vt as f,ne as g,Qe as h,F as i};
